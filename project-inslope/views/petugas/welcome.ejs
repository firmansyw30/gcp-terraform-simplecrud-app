<head>
    <meta charset="UTF-8" />
    <link rel="shortcut icon" href="asset/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard Petugas</title>
    <link href="/src/output.css" rel="stylesheet">
</head>
<body class="bg-gray-100 dark:bg-gray-900">
    <!--Side Bar With Navbar-->
    <nav class="fixed top-0 z-50 w-full bg-white border-b border-gray-200 dark:bg-gray-800 dark:border-gray-700">
        <div class="px-3 py-3 lg:px-5 lg:pl-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center justify-start rtl:justify-end">
                    <button data-drawer-target="logo-sidebar" data-drawer-toggle="logo-sidebar" aria-controls="logo-sidebar" type="button" class="inline-flex items-center p-2 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600">
                        <span class="sr-only">Open sidebar</span>
                        <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path clip-rule="evenodd" fill-rule="evenodd" d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"></path>
                        </svg>
                    </button>
                    <a href="/auth/welcome" class="flex ms-2 md:me-24">
                        <img src="/asset/logo_inslope_web-removebg-preview.png" class="h-8 me-3" alt="Logo" />
                        <span class="self-center text-xl font-semibold sm:text-2l whitespace-nowrap dark:text-white">Dashboard</span>
                    </a>
                </div>
                <div class="flex items-center ml-auto space-x-4">
                    <span class="text-sm text-gray-900 dark:text-black flex items-center">
                        Selamat Datang | <%= user.nama_petugas %>
                    </span>
                    <span>
                        <form action="/auth/logout" method="POST" class="flex items-center">
                            <button type="submit" class="text-yellow-400 hover:text-white border border-yellow-400 hover:bg-yellow-500 focus:ring-4 focus:outline-none focus:ring-yellow-300 font-medium rounded-lg text-xs px-3 py-1.5">
                                Logout
                            </button>
                        </form>
                    </span>
                </div>                                
            </div>
        </div>
    </nav>
    

    <!--Sidebar-->
    <aside id="logo-sidebar" class="fixed top-0 left-0 z-40 w-64 h-screen pt-20 transition-transform -translate-x-full bg-white border-r border-gray-200 sm:translate-x-0 dark:bg-gray-800 dark:border-gray-700" aria-label="Sidebar">
        <div class="h-full px-3 pb-4 overflow-y-auto bg-white dark:bg-gray-800">
            <ul class="space-y-2 font-medium">
                <li>
                    <a href="/auth/welcome" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                        <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M13.5 2c-.178 0-.356.013-.492.022l-.074.005a1 1 0 0 0-.934.998V11a1 1 0 0 0 1 1h7.975a1 1 0 0 0 .998-.934l.005-.074A7.04 7.04 0 0 0 22 10.5 8.5 8.5 0 0 0 13.5 2Z"/>
                            <path d="M11 6.025a1 1 0 0 0-1.065-.998 8.5 8.5 0 1 0 9.038 9.039A1 1 0 0 0 17.975 13H11V6.025Z"/>
                          </svg>                          
                        <span class="ms-3">Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="/buatartikel" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                        <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                            <path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm11-4.243a1 1 0 1 0-2 0V11H7.757a1 1 0 1 0 0 2H11v3.243a1 1 0 1 0 2 0V13h3.243a1 1 0 1 0 0-2H13V7.757Z" clip-rule="evenodd"/>
                        </svg>                                            
                        <span class="flex-1 ms-3 whitespace-nowrap">Buat Artikel</span>
                    </a>
                </li>
            </ul>
        </div>
    </aside>

    <!--Dashboard Artikel-->
    <div class="p-4 sm:ml-64 mt-16">
        <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
            <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
                <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                    <tr>
                        <th scope="col" class="px-6 py-3">No</th>
                        <th scope="col" class="px-6 py-3">Judul Artikel</th>
                        <th scope="col" class="px-6 py-3">Konten</th>
                        <th scope="col" class="px-6 py-3">Tanggal Post</th>
                        <th scope="col" class="px-6 py-3">Tanggal Diperbarui</th>
                        <th scope="col" class="px-6 py-3">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <% if (artikel.length === 0) { %> <!-- Cek jika tidak ada artikel -->
                        <tr>
                          <td colspan="6" class="text-center py-4 font-light text-gray-500 dark:text-gray-400">
                            <h2 class="mb-4 text-2xl font-extrabold text-gray-900 dark:text-white">
                              Data Artikel Kosong 
                            </h2>
                          </td>
                        </tr>
                    <% } else { %>
                        <% artikel.forEach((item, index) => { %>
                            <tr class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700">
                                <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                                    <%= index + 1 %>
                                </th>
                                <td class="px-6 py-4">
                                    <%= item.judul_artikel %>
                                </td>
                                <td class="px-6 py-4">
                                    <%= item.konten %>
                                </td>
                                <td class="px-6 py-4">
                                    <%= item.tanggal_post %>
                                </td>
                                <td class="px-6 py-4">
                                    <%= item.updatedAt %>
                                </td>
                                <td class="px-6 py-4">
                                    <a href="/ubahartikel/<%= item.id %>" class="font-medium text-blue-600 dark:text-blue-500 hover:underline">Edit</a>
                                    <p> </p>
                                    <form action="/hapusartikel/<%= item.id %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this article?');" style="display: inline;">
                                        <button type="submit" class="font-medium text-red-600 dark:text-red-500 hover:underline">Delete</button>
                                    </form>
                                </td>
                            </tr>
                        <% }) %>
                    <% } %>
                </tbody>
            </table>
        </div>
    </div>
    <!-- Script to handle dropdown -->
</body>
